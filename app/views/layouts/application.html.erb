<!DOCTYPE html>
<html>
<head>
  <title>Bucketlist</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>

<script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=?????????&sensor=false">
</script>

<script type="text/javascript">
      function initialize() {

      	var myCurrentLocation = new google.maps.LatLng(40.7399977, -73.9900976);

			  var mapOptions = {
			    zoom: 13,
			    center: myCurrentLocation,
			    mapTypeId: google.maps.MapTypeId.ROADMAP
			  }

			  var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

			  var marker = new google.maps.Marker({
			      position: myCurrentLocation,
			      map: map,
			      title: "I'm at GA"
			  });

			  <% TodoItem.all.each do |t| %>
			  	var todoItemLtLng = new google.maps.LatLng(<%= t.latitude ? t.latitude : 0 %>, <%= t.longitude ? t.longitude : 0 %>);

				  var marker = new google.maps.Marker({
				      position: todoItemLtLng,
				      map: map,
				      title:"<%= t.name %>"
				  });
			  <% end %>

			};

      google.maps.event.addDomListener(window, 'load', initialize);
</script>

</head>
<body>

<div class="header">
			
			<div class="menu">
					<div id="left_menu">
						<ul>
							<li><%= link_to 'Home(Destinations)', destinations_path %></li>
							<li><%= link_to 'Todo Items', todo_items_path %></li>
						</ul>
					</div>

				

				<div id="right_menu">
					Coded by OrenBnv
				</div>

			</div>

		</div>

		<div class="container">
			<%= yield %>
		</div>

</body>
</html>
